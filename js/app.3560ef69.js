(function(){"use strict";var e={5714:function(e,t,r){var n=r(144),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("TheHeader"),t("TheMain"),t("TheFooter")],1)},i=[],a=function(){var e=this,t=e._self._c;return t("header",{staticClass:"header"},[t("div",{staticClass:"container"},[t("div",{staticClass:"header__wrapper"},[t("div",{staticClass:"header__logo"},[t("mdicon",{staticClass:"header__logo__icon",attrs:{name:"piggy-bank"}}),t("span",[e._v("CE")])],1)])])])},c=[],o={name:"TheHeaderComponent"},u=o,l=r(1001),d=(0,l.Z)(u,a,c,!1,null,"68a94456",null),h=d.exports,p=function(){var e=this,t=e._self._c;return t("main",{staticClass:"main"},[t("div",{staticClass:"container"},[t("div",{staticClass:"background"}),t("h2",{staticClass:"main__title"},[e._v("Currency Exchange")]),t("TheFormCard",[t("div",{staticClass:"main__wrapper"},[t("TheMultiInput",{attrs:{label:"From",defaultCurrency:"USD",error:e.isError},on:{input:function(t){e.convert(),e.validate()},changeSelected:e.setFromCurrency,focus:function(t){e.inputSelected=!0},error:e.changeIsError},model:{value:e.fromInput,callback:function(t){e.fromInput=t},expression:"fromInput"}}),t("TheButton",{attrs:{icon:"",iconName:"swap-horizontal"}}),t("TheMultiInput",{attrs:{label:"To",defaultCurrency:"BTC",error:e.isError},on:{input:function(t){e.convert(),e.validate()},changeSelected:e.setToCurrency,focus:function(t){e.inputSelected=!1},error:e.changeIsError},model:{value:e.toInput,callback:function(t){e.toInput=t},expression:"toInput"}})],1)])],1),t("div",{staticClass:"container"},[t("TheFormCard",[t("h2",{staticClass:"main__courses__title"},[e._v("Main currencies")]),t("div",{staticClass:"main__courses__wrapper"},e._l(e.getMainCurrencies,(function(r,n){return t("TheCard",{key:n,attrs:{title:r.code,amount:r.value,isActive:r.isActive},on:{click:function(t){e.changeActive(n,r.code),e.updateMainCurrencies()}}})})),1),t("h2",{staticClass:"main__courses__title"},[e._v("List of currency")]),t("TheButton",{attrs:{prependIcon:"magnify-plus-outline"},on:{click:e.showModal}},[e._v("Search")]),t("TheButton",{attrs:{disabled:e.isDisabled,prependIcon:"reload"},on:{click:e.reloadClick}},[e._v("Reload")]),e.isErrorList?t("span",{staticClass:"error"},[e._v(" You cannot add the same currency! ")]):e._e(),t("div",{staticClass:"main__courses__wrapper"},e._l(e.getDefaultListOfCurrencies,(function(e,r){return t("TheCard",{key:r,attrs:{title:e.code,amount:e.value}})})),1)],1)],1),e.isModal?t("TheModal",{scopedSlots:e._u([{key:"header",fn:function(){return[t("p",[e._v("Search for available currencies")])]},proxy:!0},{key:"main",fn:function(){return[t("TheSearch",{on:{click:e.addCurrency}})]},proxy:!0},{key:"footer",fn:function(){return[t("TheButton",{on:{click:e.closeModal}},[e._v("Close")])]},proxy:!0}],null,!1,3697651249)}):e._e()],1)},C=[],m=(r(7658),r(629)),_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"formcard"},[e._t("default")],2)},f=[],v={name:"WrapperComponent"},y=v,g=(0,l.Z)(y,_,f,!1,null,"f13ccf78",null),b=g.exports,S=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multiinput"},[t("label",{staticClass:"multiinput__label",attrs:{for:"currency"}},[e._v(e._s(e.label))]),t("div",{staticClass:"multiinput__wrapper"},[e.error?e._e():t("input",{staticClass:"multiinput__wrapper__input",attrs:{type:"number",id:"currency"},domProps:{value:Math.floor(1e3*this.value)/1e3},on:{focus:function(t){return e.$emit("focus",t)},input:function(t){return e.$emit("input",+t.target.value)}}}),e.error?t("span",{staticClass:"multiinput__wrapper__span"}):e._e(),t("TheDropdown",{attrs:{defaultCurrency:e.defaultCurrency},on:{changeSelected:function(t){return e.$emit("changeSelected",t)}}})],1),e.error?t("p",{staticClass:"multiinput__error",on:{click:e.reload}},[e._v(" Max number of currency 10 000$ "),e.error?t("mdicon",{staticClass:"multiinput__error__icon",attrs:{name:"reload",size:"22"}}):e._e()],1):e._e()])},T=[],D=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dropdown__container"},[t("div",{staticClass:"dropdown__container__button",on:{click:e.openMenu}},[t("mdicon",{staticClass:"dropdown__container__button__icon__currency",attrs:{name:e.getCurrencyIcon,size:"24"}}),e._v(" "+e._s(e.selected)+" "),t("mdicon",{staticClass:"dropdown__container__button__icon__chevron",class:{"dropdown__container__button__icon__chevron-rotate":e.isOpen},attrs:{name:"chevron-down",size:"24"}})],1),t("transition",{attrs:{name:"menu"}},[e.isOpen?t("div",{staticClass:"dropdown__container__menu"},[t("ul",e._l(e.getSelectedCurencySymbols,(function(r,n,s){return t("li",{key:s},[t("span",{on:{click:function(t){return e.curentItem(n)}}},[e._v(" "+e._s(n)+" - "+e._s(r.name)+" ")])])})),0)]):e._e()])],1)},M=[],O={name:"TheDropdownComponent",props:{defaultCurrency:{type:String,required:!0}},data(){return{isOpen:!1,selected:this.defaultCurrency}},methods:{curentItem(e){this.selected=e,this.isOpen=!this.isOpen,this.$emit("changeSelected",this.selected)},openMenu(){this.isOpen=!this.isOpen},close(e){this.$el.contains(e.target)||(this.isOpen=!1)}},computed:{...(0,m.Se)(["getSelectedCurencySymbols"]),getCurrencyIcon(){switch(this.selected){case"USD":return"currency-usd";case"EUR":return"currency-eur";case"UAH":return"currency-uah";case"GBP":return"currency-gbp";case"BTC":return"currency-btc";case"ETH":return"currency-eth";case"BNB":return"alpha-b-circle-outline";case"XRP":return"alpha-x-circle-outline";default:return"currency-usd"}}},mounted(){document.addEventListener("click",this.close)},beforeDestroy(){document.removeEventListener("click",this.close)}},k=O,w=(0,l.Z)(k,D,M,!1,null,"5d6907bb",null),F=w.exports,I={name:"TheDropdownComponent",components:{TheDropdown:F},props:{label:{type:String,required:!0},defaultCurrency:{type:String,required:!0},error:{type:Boolean},model:{prop:"value",event:"input"},value:Number},methods:{reload(){this.$emit("error",!1)}}},E=I,x=(0,l.Z)(E,S,T,!1,null,"e4c4aa46",null),B=x.exports,P=function(){var e=this,t=e._self._c;return t("button",{staticClass:"button",class:{round:e.icon,disabled:e.disabled},attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("click",t)}}},[e.icon?t("mdicon",{staticClass:"button__icon",attrs:{name:e.iconName}}):t("div",{staticClass:"button__name"},[e.prependIcon?t("mdicon",{staticClass:"button__name__prepend",attrs:{name:e.prependIcon}}):e._e(),e._t("default")],2)],1)},U=[],L={name:"TheButtonComponent",props:{icon:{type:Boolean,required:!1},iconName:{type:String,required:!1},prependIcon:{type:String,required:!1},disabled:{type:Boolean,required:!1}}},Z=L,q=(0,l.Z)(Z,P,U,!1,null,"85ac8d72",null),R=q.exports,$=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card",class:{active:e.isActive},on:{click:function(t){return e.$emit("click")}}},[t("h2",{staticClass:"card__title"},[e._v(e._s(e.title))]),t("span",{staticClass:"card__course"},[e._v(e._s(e.amount))])])},A=[],H={name:"TheCardComponent",props:{title:{type:String,required:!1},amount:{type:Number,required:!1},isActive:{type:Boolean}}},N=H,j=(0,l.Z)(N,$,A,!1,null,"a96b4354",null),V=j.exports,X=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-backdrop"},[t("div",{staticClass:"modal"},[t("div",{staticClass:"modal__header"},[e._t("header")],2),t("div",{staticClass:"modal__main"},[e._t("main")],2),t("div",{staticClass:"modal__footer"},[e._t("footer")],2)])])},J=[],z={name:"TheModalComponent"},G=z,K=(0,l.Z)(G,X,J,!1,null,"672755d2",null),W=K.exports,Y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search"},[t("div",{staticClass:"search__wrapper"},[t("mdicon",{staticClass:"search__input__icon",attrs:{name:"magnify"}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],staticClass:"search__input",attrs:{type:"text",placeholder:"Search currencies..."},domProps:{value:e.inputValue},on:{input:[function(t){t.target.composing||(e.inputValue=t.target.value)},e.searchFilter]}})],1),t("div",{staticClass:"search__list"},[t("ul",e._l(e.slicedSortedCurrencies,(function(r,n){return t("li",{key:n,on:{click:function(t){return e.$emit("click",r.code)}}},[t("p",[e._v(e._s(r.code)+" - "+e._s(r.name))])])})),0)]),0===e.slicedSortedCurrencies.length?t("span",{staticClass:"error"},[e._v(" No result found! ")]):e._e()])},Q=[],ee={name:"TheSearchComponent",data(){return{inputValue:"",sortedCurrencies:[]}},computed:{slicedSortedCurrencies(){return""===this.inputValue?this.getCurencySymbolsFull.slice(0,6):this.sortedCurrencies.slice(0,6)},...(0,m.Se)(["getCurencySymbolsFull"])},methods:{searchFilter(){this.sortedCurrencies=this.getCurencySymbolsFull.filter((e=>e.name.toLowerCase().includes(this.inputValue.toLowerCase())))}},mounted(){}},te=ee,re=(0,l.Z)(te,Y,Q,!1,null,"c93df29c",null),ne=re.exports,se={name:"TheMainComponent",components:{TheFormCard:b,TheMultiInput:B,TheButton:R,TheCard:V,TheModal:W,TheSearch:ne},data(){return{isModal:!1,isError:!1,isErrorList:!1,isDisabled:!1,inputSelected:!0,selectedFrom:"USD",selectedTo:"BTC",fromInput:100,toInput:.005,mainCurrencies:[],selectedMainCurrency:"USD",listOfCurrencies:["GBP","BTC","ETH","BNB","XRP"]}},computed:{...(0,m.Se)(["getMainCurrencies","getDefaultListOfCurrencies","getCurrenciesData"])},methods:{setFromCurrency(e){this.selectedFrom=e,this.convert()},setToCurrency(e){this.selectedTo=e,this.convert()},changeActive(e,t){this.selectedMainCurrency=t,this.changeStatusMainCurrencies(e)},updateMainCurrencies(){this.getMainCurrenciesData({base:this.selectedMainCurrency,list:this.listOfCurrencies})},convert(){if(console.log(this.getCurrenciesData),this.inputSelected){"USD"===this.selectedFrom&&(this.toInput=this.fromInput*this.getCurrenciesData[this.selectedTo].value,console.log(this.getCurrenciesData[this.selectedTo].value));const e=this.getCurrenciesData[this.selectedTo].value/this.getCurrenciesData[this.selectedFrom].value;this.toInput=this.fromInput*e}else{const e=this.getCurrenciesData[this.selectedFrom].value/this.getCurrenciesData[this.selectedTo].value;this.fromInput=this.toInput*e}},validate(){this.inputSelected?this.toInput>=10001*this.getCurrenciesData[this.selectedTo].value?this.isError=!0:this.isError=!1:this.fromInput>=10001*this.getCurrenciesData[this.selectedFrom].value?this.isError=!0:this.isError=!1},changeIsError(){this.fromInput=1e4*this.getCurrenciesData[this.selectedFrom].value,this.toInput=1e4*this.getCurrenciesData[this.selectedTo].value,this.isError=!1,this.convert()},showModal(){this.isModal=!0},closeModal(){this.isModal=!1},addCurrency(e){this.isModal=!1;const t=this.listOfCurrencies.find((t=>t===e));t?this.isErrorList=!0:(this.listOfCurrencies.push(e),this.isErrorList=!1,this.saveToLocaleStorage()),this.updateMainCurrencies()},saveToLocaleStorage(){const e=JSON.stringify(this.listOfCurrencies);sessionStorage.setItem("listOfCurrencies",e)},reloadClick(){if(this.isDisabled)return 1;this.isDisabled=!0,setTimeout((()=>{this.isDisabled=!1}),5e3),this.getCurencySymbols(),this.getMainCurrenciesData({base:this.selectedMainCurrency,list:this.listOfCurrencies}),this.currenciesDataFull()},...(0,m.OI)(["changeStatusMainCurrencies"]),...(0,m.nv)(["getCurencySymbols","getMainCurrenciesData","currenciesDataFull"])},created(){this.getCurencySymbols(),this.getMainCurrenciesData({base:this.selectedMainCurrency,list:this.listOfCurrencies}),this.currenciesDataFull()},mounted(){sessionStorage.getItem("listOfCurrencies")&&(this.listOfCurrencies=JSON.parse(sessionStorage.getItem("listOfCurrencies")),this.updateMainCurrencies()),this.mainCurrencies=this.getMainCurrencies}},ie=se,ae=(0,l.Z)(ie,p,C,!1,null,"18528ec9",null),ce=ae.exports,oe=function(){var e=this,t=e._self._c;return t("footer",{staticClass:"footer"})},ue=[],le={},de=le,he=(0,l.Z)(de,oe,ue,!1,null,"f0276198",null),pe=he.exports,Ce={components:{TheHeader:h,TheMain:ce,TheFooter:pe}},me=Ce,_e=(0,l.Z)(me,s,i,!1,null,null,null),fe=_e.exports,ve=r(594);const ye=ve.Z.create({baseURL:"https://api.currencyapi.com/v3/"});n.ZP.use(m.ZP);var ge=new m.ZP.Store({state:{curencySymbolsFull:null,selectedCurencySymbols:null,mainCurrencies:[],defaultListOfCurrencies:null,currenciesData:null},getters:{getCurencySymbolsFull(e){const t=[];for(const r in e.curencySymbolsFull)t.push(e.curencySymbolsFull[r]);return t},getSelectedCurencySymbols(e){return e.selectedCurencySymbols},getMainCurrencies(e){return e.mainCurrencies},getDefaultListOfCurrencies(e){return e.defaultListOfCurrencies},getCurrenciesData(e){return e.currenciesData}},mutations:{setCurencySymbolsFull(e,t){e.curencySymbolsFull=t},setSelectedCurencySymbols(e,t){e.selectedCurencySymbols=t},setMainCurrencies(e,t){e.mainCurrencies=t},setDefaultListOfCurrencies(e,t){e.defaultListOfCurrencies=t},setCurrenciesData(e,t){e.currenciesData=t},changeStatusMainCurrencies(e,t){e.mainCurrencies.map(((e,r)=>{e.isActive=t===r}))}},actions:{async getCurencySymbols({commit:e}){const t="xVkRD9xhaplqEDhFrqhF41Xd2pM07KCdRJ8PCpqg",r=await ye.get(`currencies?apikey=${t}`),{USD:n,EUR:s,UAH:i,GBP:a,BTC:c,ETH:o,BNB:u,XRP:l}=r.data.data,d={USD:n,EUR:s,UAH:i,GBP:a,BTC:c,ETH:o,BNB:u,XRP:l};e("setCurencySymbolsFull",r.data.data),e("setSelectedCurencySymbols",d)},async getMainCurrenciesData({commit:e},t){const r="xVkRD9xhaplqEDhFrqhF41Xd2pM07KCdRJ8PCpqg",n=["USD","EUR","UAH",...t.list].join(","),s=await ye.get(`latest?apikey=${r}&base_currency=${t.base}&currencies=${n}`),{USD:i,EUR:a,UAH:c}=s.data.data,o={USD:i,EUR:a,UAH:c};let u=[];Object.values(o).forEach((e=>{let r=!0;e.code===t.base?(r=!0,u.push({...e,isActive:r})):(r=!1,u.push({...e,isActive:r}))}));let l=[];for(const d of t.list){const e=t.list.find((e=>e===d));l.push(s.data.data[e])}e("setMainCurrencies",u),e("setDefaultListOfCurrencies",l)},async currenciesDataFull({commit:e}){const t="xVkRD9xhaplqEDhFrqhF41Xd2pM07KCdRJ8PCpqg",r=await ye.get(`latest?apikey=${t}`);e("setCurrenciesData",r.data.data)}},modules:{}}),be=r(7666),Se=r(5317);n.ZP.config.productionTip=!1,n.ZP.use(be.Z,{icons:Se}),new n.ZP({store:ge,render:e=>e(fe)}).$mount("#app")}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,function(){var e=[];r.O=function(t,n,s,i){if(!n){var a=1/0;for(l=0;l<e.length;l++){n=e[l][0],s=e[l][1],i=e[l][2];for(var c=!0,o=0;o<n.length;o++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[o])}))?n.splice(o--,1):(c=!1,i<a&&(a=i));if(c){e.splice(l--,1);var u=s();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,s,i]}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,i,a=n[0],c=n[1],o=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(s in c)r.o(c,s)&&(r.m[s]=c[s]);if(o)var l=o(r)}for(t&&t(n);u<a.length;u++)i=a[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(l)},n=self["webpackChunkcurrency_exchange"]=self["webpackChunkcurrency_exchange"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(5714)}));n=r.O(n)})();
//# sourceMappingURL=app.3560ef69.js.map